<!--
AGID - AGENZIA PER L'ITALIA DIGITALE
SPID - SISTEMA PUBBLICO PER L'IDENTITA' DIGITALE
-->
<!DOCTYPE html>
<html>

<head>
    <title>SPID SP ACCESS BUTTON</title>
    <meta charset="utf-8" />
    <link type="text/css" rel="stylesheet" href="/css/spid-sp-access-button.min.css" />
    <link rel="stylesheet" href="/bootstrap-italia-master/dist/css/bootstrap-italia-0.0.1.css" crossorigin="anonymous">
    <script src="/bootstrap-italia-master/dist/js/bootstrap-italia-0.0.1.bundle.min.js" crossorigin="anonymous"></script>
</head>

<body>

    <!--#include file="template/header.html" -->
    <h1 style="font-family:'Titillium Web',HelveticaNeue,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-weight:700">SPID SP ACCESS BUTTON</h1>

    <h3 style="margin-top:40px;font-family:'Titillium Web',HelveticaNeue,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-weight:700">Use aruba to test idp.example.org identity provider</h3>

    <!-- AGID - SPID IDP BUTTON SMALL "ENTRA CON SPID" * begin * -->
    <form name="spid_idp_access" action="/saml/Login" method="post">
        <input type="hidden" name="target" id="sp-target" value="" />
        <input type="hidden" name="entityID" id="sp-entityID" value="" /> Select authnContextClassRef to use
        <select name="authnContextClassRef">
            <option value="https://www.spid.gov.it/SpidL1">SpidL1</option>
            <option value="https://www.spid.gov.it/SpidL2">SpidL2</option>
            <option value="https://www.spid.gov.it/SpidL3">SpidL3 - Not implemented</option>
        </select>
        <br/>
        <a href="#" class="italia-it-button italia-it-button-size-s button-spid" spid-idp-button="#spid-idp-button-small-post" aria-haspopup="true"
            aria-expanded="false">
            <span class="italia-it-button-icon">
                <img src="/img/spid-ico-circle-bb.svg" onerror="this.src='img/spid-ico-circle-bb.png'; this.onerror=null;" alt="" />
            </span>
            <span class="italia-it-button-text">Entra con SPID</span>
        </a>
        <div id="spid-idp-button-small-post" class="spid-idp-button spid-idp-button-tip spid-idp-button-relative">
            <ul id="spid-idp-list-small-root-post" class="spid-idp-button-menu" aria-labelledby="spid-idp">
                <li class="spid-idp-button-link" data-idp="https://idp.example.org/idp/shibboleth">
                    <button class="idp-button-idp-logo" name="aruba_id" type="submit">
                        <span class="spid-sr-only">Aruba ID</span>
                        <img class="spid-idp-button-logo" src="/img/spid-idp-arubaid.svg" onerror="this.src='img/spid-idp-arubaid.png'; this.onerror=null;"
                            alt="Aruba ID" />
                    </button>
                </li>
                <li class="spid-idp-button-link" data-idp="https://identity.infocert.it">
                    <button class="idp-button-idp-logo" name="infocert_id" type="submit">
                        <span class="spid-sr-only">Infocert ID</span>
                        <img class="spid-idp-button-logo" src="/img/spid-idp-infocertid.svg" onerror="this.src='img/spid-idp-infocertid.png'; this.onerror=null;"
                            alt="Infocert ID" />
                    </button>
                </li>
                <li class="spid-idp-button-link" data-idp="https://spid.intesa.it">
                    <button class="idp-button-idp-logo" name="intesa_id" type="submit">
                        <span class="spid-sr-only">Intesa ID</span>
                        <img class="spid-idp-button-logo" src="/img/spid-idp-intesaid.svg" onerror="this.src='img/spid-idp-intesaid.png'; this.onerror=null;"
                            alt="Intesa ID" />
                    </button>
                </li>
                <li class="spid-idp-button-link" data-idp="https://idp.namirialtsp.com/idp">
                    <button class="idp-button-idp-logo" name="namirial_id" type="submit">
                        <span class="spid-sr-only">Namirial ID</span>
                        <img class="spid-idp-button-logo" src="/img/spid-idp-namirialid.svg" onerror="this.src='img/spid-idp-namirialid.png'; this.onerror=null;"
                            alt="Namirial ID" />
                    </button>
                </li>
                <li class="spid-idp-button-link" data-idp="https://posteid.poste.it">
                    <button class="idp-button-idp-logo" name="poste_id" type="submit">
                        <span class="spid-sr-only">Poste ID</span>
                        <img class="spid-idp-button-logo" src="/img/spid-idp-posteid.svg" onerror="this.src='img/spid-idp-posteid.png'; this.onerror=null;"
                            alt="Poste ID" />
                    </button>
                </li>
                <li class="spid-idp-button-link" data-idp="https://identity.sieltecloud.it">
                    <button class="idp-button-idp-logo" name="sielte_id" type="submit">
                        <span class="spid-sr-only">Sielte ID</span>
                        <img class="spid-idp-button-logo" src="/img/spid-idp-sielteid.svg" onerror="this.src='img/spid-idp-sielteid.png'; this.onerror=null;"
                            alt="Sielte ID" />
                    </button>
                </li>
                <li class="spid-idp-button-link" data-idp="https://spid.register.it">
                    <button class="idp-button-idp-logo" name="spiditalia" type="submit">
                        <span class="spid-sr-only">SPIDItalia Register.it</span>
                        <img class="spid-idp-button-logo" src="/img/spid-idp-spiditalia.svg" onerror="this.src='img/spid-idp-spiditalia.png'; this.onerror=null;"
                            alt="SpidItalia" />
                    </button>
                </li>
                <li class="spid-idp-button-link" data-idp="https://login.id.tim.it/affwebservices/public/saml2sso">
                    <button class="idp-button-idp-logo" name="tim_id" type="submit">
                        <span class="spid-sr-only">Tim ID</span>
                        <img class="spid-idp-button-logo" src="/img/spid-idp-timid.svg" onerror="this.src='img/spid-idp-timid.png'; this.onerror=null;"
                            alt="Tim ID" />
                    </button>
                </li>
                <li class="spid-idp-support-link" data-spidlink="info">
                    <a href="https://www.spid.gov.it">Maggiori informazioni</a>
                </li>
                <li class="spid-idp-support-link" data-spidlink="rich">
                    <a href="https://www.spid.gov.it/richiedi-spid">Non hai SPID?</a>
                </li>
                <li class="spid-idp-support-link" data-spidlink="help">
                    <a href="https://www.spid.gov.it/serve-aiuto">Serve aiuto?</a>
                </li>
            </ul>
        </div>
    </form>
    <!-- AGID - SPID IDP BUTTON SMALL "ENTRA CON SPID" * end * -->

    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/spid-sp-access-button.min.js"></script>
    <script>

        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        $(document).ready(function () {
            var rootList = $("#spid-idp-list-small-root-get");
            var idpList = rootList.children(".spid-idp-button-link");
            var lnkList = rootList.children(".spid-idp-support-link");
            while (idpList.length) {
                rootList.append(idpList.splice(Math.floor(Math.random() * idpList.length), 1)[0]);
            }
            rootList.append(lnkList);
        });

        $(document).ready(function () {
            var rootList = $("#spid-idp-list-small-root-post");
            var idpList = rootList.children(".spid-idp-button-link");
            var lnkList = rootList.children(".spid-idp-support-link");
            while (idpList.length) {
                rootList.append(idpList.splice(Math.floor(Math.random() * idpList.length), 1)[0]);
            }
            rootList.append(lnkList);
            $("#sp-target").val(getParameterByName("target"));
            $(".idp-button-idp-logo").on("click", function (e) {
                $("#sp-entityID").val($(this).parent().attr("data-idp"));
            });
        });

    </script>
</body>

</html>